{% load static %}
<div class="main-header">
    <div class="logo">
        <img src="/static/images/logo.png" alt="">
    </div>
    <div class="menu-toggle">
        <div></div>
        <div></div>
        <div></div>
    </div>
    <div class="d-flex align-items-center">
        <!-- Mega menu -->
        <div class="dropdown mega-menu d-none d-md-block">
            <a href="#" class="btn text-muted dropdown-toggle mr-3" id="dropdownMegaMenuButton" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false">Mega Menu</a>
            <div class="dropdown-menu text-left" aria-labelledby="dropdownMenuButton">
                <div class="row m-0">
                    <div class="col-md-4 p-4 bg-img">
                        <h2 class="title">Mega Menu <br> Sidebar</h2>
                        <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Asperiores natus laboriosam fugit,
                            consequatur.
                        </p>
                        <p class="mb-4">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Exercitationem odio
                            amet eos dolore suscipit placeat.</p>
                        <button class="btn btn-lg btn-rounded btn-outline-warning">Learn More</button>
                    </div>
                    <div class="col-md-4 p-4">
                        <p class="text-primary text--cap border-bottom-primary d-inline-block">Features</p>
                        <div class="menu-icon-grid w-auto p-0">
                            <a href="#"><i class="i-Shop-4"></i> Home</a>
                            <a href="#"><i class="i-Library"></i> UI Kits</a>
                            <a href="#"><i class="i-Drop"></i> Apps</a>
                            <a href="#"><i class="i-File-Clipboard-File--Text"></i> Forms</a>
                            <a href="#"><i class="i-Checked-User"></i> Sessions</a>
                            <a href="#"><i class="i-Ambulance"></i> Support</a>
                        </div>
                    </div>
                    <div class="col-md-4 p-4">
                        <p class="text-primary text--cap border-bottom-primary d-inline-block">Components</p>
                        <ul class="links">
                            <li><a href="#">Accordion</a></li>
                            <li><a href="#">Alerts</a></li>
                            <li><a href="#">Buttons</a></li>
                            <li><a href="#">Badges</a></li>
                            <li><a href="#">Carousels</a></li>
                            <li><a href="#">Lists</a></li>
                            <li><a href="#">Popover</a></li>
                            <li><a href="#">Tables</a></li>
                            <li><a href="#">Datatables</a></li>
                            <li><a href="#">Modals</a></li>
                            <li><a href="#">Sliders</a></li>
                            <li><a href="#">Tabs</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- / Mega menu -->
        <div class="search-bar">
            <input type="text" placeholder="Search" fdprocessedid="kpx9xl">
            <i class="search-icon text-muted i-Magnifi-Glass1"></i>
        </div>
    </div>
    <div style="margin: auto"></div>
    <div class="header-part-right">
        <!-- Full screen toggle -->
        <i class="i-Full-Screen header-icon d-none d-sm-inline-block" data-fullscreen=""></i>
        <!-- Grid menu Dropdown -->
        <div class="dropdown">
            <i class="i-Safe-Box text-muted header-icon" role="button" id="dropdownMenuButton" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false"></i>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <div class="menu-icon-grid">
                    <a href="#"><i class="i-Shop-4"></i> Home</a>
                    <a href="#"><i class="i-Library"></i> UI Kits</a>
                    <a href="#"><i class="i-Drop"></i> Apps</a>
                    <a href="#"><i class="i-File-Clipboard-File--Text"></i> Forms</a>
                    <a href="#"><i class="i-Checked-User"></i> Sessions</a>
                    <a href="#"><i class="i-Ambulance"></i> Support</a>
                </div>
            </div>
        </div>
        <!-- Notificaiton -->
        <div class="dropdown" id="notification-btn">
            <div class="badge-top-container" role="button" id="dropdownNotification" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false">
                <span class="badge badge-primary" id="notification-count">{{ agm_notification_list|length }}</span>
                <i class="i-Bell text-muted header-icon"></i>
            </div>

            <!-- Notification dropdown -->
            <div class="dropdown-menu dropdown-menu-right notification-dropdown rtl-ps-none ps"
                aria-labelledby="dropdownNotification" data-perfect-scrollbar="" data-suppress-scroll-x="true">
                {% if agm_notification_list %}
                {% for notification in agm_notification_list %}
                <div class="dropdown-item d-flex">
                    <div class="notification-details flex-grow-1">
                        <p class="m-0 d-flex align-items-center">
                            <span>{{ notification.agm.title }} | {{ notification.show_again }}</span>
                            <span class="flex-grow-1"></span>
                        </p>
                        <p class="text-small text-muted m-0">{{ notification.agm.description }}</p>
                    </div>
                </div>
                {% endfor %}
                {% endif %}
                <div class="ps__rail-x" style="left: 0px; bottom: 0px;">
                    <div class="ps__thumb-x" tabindex="0" style="left: 0px; width: 0px;"></div>
                </div>
                <div class="ps__rail-y" style="top: 0px; right: 0px;">
                    <div class="ps__thumb-y" tabindex="0" style="top: 0px; height: 0px;"></div>
                </div>
            </div>
        </div>
        <!-- Notificaiton End -->
        <!-- User avatar dropdown -->
        <div class="dropdown">
            <div class="user col align-self-end">
                <img src="{% static '/images/faces/1.jpg' %}" id="userDropdown" alt="" data-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false">
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
                    {% if user.is_authenticated %}
                    <div class="dropdown-header">
                        <i class="i-Lock-User mr-1"></i> {{ request.user.full_name }}
                    </div>
                    <a class="dropdown-item" href="{% url 'account:logout_view' %}">Sign out</a>
                    {% else %}
                    <a class="dropdown-item" href="{% url 'account:login_view' %}">Sign in</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>

{% block js %}
<script>
    const notificationBtn = document.getElementById("notification-btn");
    const notificationBadge = document.getElementById("notification-count");
    notificationBtn.addEventListener('click', () => {
        console.log("clicked");
        notificationBadge.remove()
    })
</script>
{% endblock %}